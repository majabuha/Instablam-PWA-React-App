{"ast":null,"code":"import _slicedToArray from\"C:/Users/SlimthYoggi/Desktop/AWJ/12122021/Instablam-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect,useRef,useContext}from'react';import'./Media.css';import{cameraOff,cameraOn,takePicture}from'../utils/mediaUtils';import{Link}from\"react-router-dom\";import{GalleryContext}from'../context/GalleryContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Camera=function Camera(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),canUseMd=_useState2[0],setCanUseMd=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),cameraIsOn=_useState4[0],setCameraIsOn=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),videoStream=_useState6[0],setVideoStream=_useState6[1];var videoRef=useRef(null);var _useContext=useContext(GalleryContext),gallery=_useContext.gallery,setGallery=_useContext.setGallery;useEffect(function(){setCanUseMd('mediaDevices'in navigator);},[]);var handleToggle=function handleToggle(){if(cameraIsOn){cameraOff(videoRef.current);setCameraIsOn(false);}else{cameraOn({videoStream:videoStream,setVideoStream:setVideoStream},videoRef.current);setCameraIsOn(true);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"camera-container\",children:[canUseMd?/*#__PURE__*/_jsx(\"video\",{ref:videoRef}):null,/*#__PURE__*/_jsx(\"div\",{className:\"buttonIcons\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleToggle,children:cameraIsOn?/*#__PURE__*/_jsx(\"img\",{className:\"icon\",alt:\"\",src:require('./icons/camOn.png').default}):/*#__PURE__*/_jsx(\"img\",{className:\"icon\",alt:\"\",src:require('./icons/camOff.png').default})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return takePicture(videoStream,gallery,setGallery);},children:/*#__PURE__*/_jsx(\"img\",{className:\"icon\",alt:\"\",src:require('./icons/lens.png').default})}),/*#__PURE__*/_jsx(Link,{to:\"/gallery\",children:/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"icon\",alt:\"\",src:require('./icons/gallery.png').default})})})]})})]});};export default Camera;","map":{"version":3,"sources":["C:/Users/SlimthYoggi/Desktop/AWJ/12122021/Instablam-app/src/components/media/Camera.jsx"],"names":["useState","useEffect","useRef","useContext","cameraOff","cameraOn","takePicture","Link","GalleryContext","Camera","canUseMd","setCanUseMd","cameraIsOn","setCameraIsOn","videoStream","setVideoStream","videoRef","gallery","setGallery","navigator","handleToggle","current","require","default"],"mappings":"8KAAA,OAASA,QAAT,CAAmBC,SAAnB,CAA8BC,MAA9B,CAAsCC,UAAtC,KAAwD,OAAxD,CACA,MAAO,aAAP,CACA,OAASC,SAAT,CAAoBC,QAApB,CAA8BC,WAA9B,KAAiD,qBAAjD,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,cAAT,KAA+B,2BAA/B,C,wFAGA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACpB,cAAgCT,QAAQ,CAAC,KAAD,CAAxC,wCAAOU,QAAP,eAAiBC,WAAjB,eACA,eAAoCX,QAAQ,CAAC,KAAD,CAA5C,yCAAOY,UAAP,eAAmBC,aAAnB,eACA,eAAsCb,QAAQ,CAAC,IAAD,CAA9C,yCAAOc,WAAP,eAAoBC,cAApB,eACA,GAAMC,CAAAA,QAAQ,CAAGd,MAAM,CAAC,IAAD,CAAvB,CAEA,gBAA8BC,UAAU,CAACK,cAAD,CAAxC,CAAOS,OAAP,aAAOA,OAAP,CAAgBC,UAAhB,aAAgBA,UAAhB,CAEAjB,SAAS,CAAC,UAAM,CACfU,WAAW,CAAC,gBAAkBQ,CAAAA,SAAnB,CAAX,CACA,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAC1B,GAAIR,UAAJ,CAAgB,CACfR,SAAS,CAACY,QAAQ,CAACK,OAAV,CAAT,CACAR,aAAa,CAAC,KAAD,CAAb,CACA,CAHD,IAGO,CACNR,QAAQ,CACP,CAAES,WAAW,CAAXA,WAAF,CAAeC,cAAc,CAAdA,cAAf,CADO,CAEPC,QAAQ,CAACK,OAFF,CAAR,CAIAR,aAAa,CAAC,IAAD,CAAb,CACA,CACD,CAXD,CAaA,mBAEC,aAAK,SAAS,CAAC,kBAAf,WACEH,QAAQ,cAAG,cAAO,GAAG,CAAEM,QAAZ,EAAH,CAAoC,IAD9C,cAEC,YAAK,SAAS,CAAC,aAAf,uBACC,oCACC,eAAQ,OAAO,CAAEI,YAAjB,UACER,UAAU,cACV,YAAK,SAAS,CAAC,MAAf,CAAsB,GAAG,CAAC,EAA1B,CAA6B,GAAG,CAAEU,OAAO,CAAC,mBAAD,CAAP,CAA6BC,OAA/D,EADU,cAER,YAAK,SAAS,CAAC,MAAf,CAAsB,GAAG,CAAC,EAA1B,CAA6B,GAAG,CAAED,OAAO,CAAC,oBAAD,CAAP,CAA8BC,OAAhE,EAHJ,EADD,cAOC,eAAQ,OAAO,CAAE,yBAChBjB,CAAAA,WAAW,CACVQ,WADU,CAEVG,OAFU,CAGVC,UAHU,CADK,EAAjB,uBAMC,YAAK,SAAS,CAAC,MAAf,CAAsB,GAAG,CAAC,EAA1B,CAA6B,GAAG,CAAEI,OAAO,CAAC,kBAAD,CAAP,CAA4BC,OAA9D,EAND,EAPD,cAeC,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,uBACC,qCACC,YAAK,SAAS,CAAC,MAAf,CAAsB,GAAG,CAAC,EAA1B,CAA6B,GAAG,CAAED,OAAO,CAAC,qBAAD,CAAP,CAA+BC,OAAjE,EADD,EADD,EAfD,GADD,EAFD,GAFD,CA8BA,CAvDD,CAyDA,cAAed,CAAAA,MAAf","sourcesContent":["import { useState, useEffect, useRef, useContext } from 'react'\nimport './Media.css'\nimport { cameraOff, cameraOn, takePicture } from '../utils/mediaUtils'\nimport { Link } from \"react-router-dom\"\nimport { GalleryContext } from '../context/GalleryContext'\n\n\nconst Camera = () => {\n\tconst [canUseMd, setCanUseMd] = useState(false);\n\tconst [cameraIsOn, setCameraIsOn] = useState(false);\n\tconst [videoStream, setVideoStream] = useState(null);\n\tconst videoRef = useRef(null);\n\n\tconst {gallery, setGallery} = useContext(GalleryContext)\t\n\n\tuseEffect(() => {\n\t\tsetCanUseMd('mediaDevices' in navigator)\n\t}, [])\n\n\tconst handleToggle = () => {\n\t\tif (cameraIsOn) {\n\t\t\tcameraOff(videoRef.current)\n\t\t\tsetCameraIsOn(false)\n\t\t} else {\n\t\t\tcameraOn(\n\t\t\t\t{ videoStream, setVideoStream },\n\t\t\t\tvideoRef.current\t\t\t\t\n\t\t\t) \n\t\t\tsetCameraIsOn(true)\n\t\t} \n\t}\n\n\treturn (\n\t\t\n\t\t<div className=\"camera-container\">\n\t\t\t{canUseMd ? <video ref={videoRef}></video> : null}\n\t\t\t<div className=\"buttonIcons\">\n\t\t\t\t<div>\n\t\t\t\t\t<button onClick={handleToggle}>\n\t\t\t\t\t\t{cameraIsOn ?\n\t\t\t\t\t\t\t<img className=\"icon\" alt=\"\" src={require('./icons/camOn.png').default} />\n\t\t\t\t\t\t\t: <img className=\"icon\" alt=\"\" src={require('./icons/camOff.png').default} />\n\t\t\t\t\t\t}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\tonClick={()=>\n\t\t\t\t\t\ttakePicture(\n\t\t\t\t\t\t\tvideoStream, \n\t\t\t\t\t\t\tgallery,\n\t\t\t\t\t\t\tsetGallery \n\t\t\t\t\t\t)}>\t\t\t\t\t\t\n\t\t\t\t\t\t<img className=\"icon\" alt=\"\" src={require('./icons/lens.png').default} />\n\t\t\t\t\t</button>\n\t\t\t\t\t<Link to=\"/gallery\">\n\t\t\t\t\t\t<button >\n\t\t\t\t\t\t\t<img className=\"icon\" alt=\"\" src={require('./icons/gallery.png').default} />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Camera\n"]},"metadata":{},"sourceType":"module"}